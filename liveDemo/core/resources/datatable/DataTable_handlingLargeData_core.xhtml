<div xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:o="http://openfaces.org/"
     style="win-height:700px;">
  <div id="Demo">
    <o:dataTable id="citiesTable"
                 var="city"
                 customDataProviding="true"
                 pageSize="12"
                 width="100%"
                 value="#{CitiesList.citiesList}"
                 totalRowCount="#{CitiesList.rowCount}"
                 rowDataByKey="#{CitiesList.rowByKey}"
                 rowKey="#{city.id}"
                 styleClass="cities">
      <f:facet name="below">
        <h:panelGroup>
          <o:dataTablePaginator id="paginator" style="margin-left: 170px; margin-top: 10px;"/>
          <h:outputText value="Event log:"
                        style="margin-top: 10px; margin-bottom: 5px; border-bottom: 1px solid black;"/>
          <h:panelGroup id="logDiv" styleClass="log">
            <o:dataTable id="queriesTable" var="query" value="#{CitiesList.queries}"
                         rowIndexVar="index"
                         style="border: 0px;"
                         horizontalGridLines="1px dashed gray"
                         bodySectionStyle="padding-top: 3px; padding-bottom: 3px;"
                         width="100%">
              <o:row condition="#{index == 0}" style="background: #efefef;"/>
              <o:column bodyStyle="padding: 5px 5px 5px 5px;">
                <h:outputText value="#{query}" escape="false"
                              style="font-family: 'Courier New', Courier, monospace; color: #484848; display: block;"/>
              </o:column>
            </o:dataTable>
          </h:panelGroup>
        </h:panelGroup>
      </f:facet>
      <o:column id="name" sortingExpression="#{city.name}"
                filterCellClass="citiesfilter"
                bodyStyle="padding-left: 10px;">
        <f:facet name="header">
          <h:outputText value="City"/>
        </f:facet>
        <f:facet name="subHeader">
          <o:inputTextFilter id="nameFilter" expression="#{city.name}"/>
        </f:facet>
        <h:outputText value="#{city.name}"/>
      </o:column>
      <o:column id="population"
                sortingExpression="#{city.population}"
                filterCellClass="citiesfilter"
                style="width: 20%;"
                bodyStyle="text-align: right; padding-right: 15px;">
        <f:facet name="header">
          <h:outputText value="Population"/>
        </f:facet>
        <f:facet name="subHeader">
          <o:comboBoxFilter id="populationFilter" options="#{CitiesList.ranges}"/>
        </f:facet>
        <h:outputText value="#{city.population}">
          <f:convertNumber type="number"/>
        </h:outputText>
      </o:column>
      <o:column id="country" sortingExpression="#{city.country}"
                filterCellClass="citiesfilter" style="width: 40%;" bodyStyle="padding-left: 10px;">
        <f:facet name="header">
          <h:outputText value="Country"/>
        </f:facet>
        <f:facet name="subHeader">
          <o:inputTextFilter id="countryFilter" expression="#{city.country}"/>
        </f:facet>
        <h:outputText value="#{city.country}"/>
      </o:column>
    </o:dataTable>
  </div>

  <div id="Description">
    <p>This page shows the ability of the DataTable to handle large amounts of data with the help of a custom data
      providing feature. So all data processing (filtering, sorting, paging) is done manually here, not automatically
      by the DataTable component. When sorting, paging or filtering is performed, an event log appears at the bottom of
      the DataTable displaying data fetch requests made by the DataTable.</p>
  </div>

</div>