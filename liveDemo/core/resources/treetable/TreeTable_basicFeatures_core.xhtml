<div xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:o="http://openfaces.org/">

  <div id="Demo" style="float: left">
    <o:compositeFilter id="forumFilter" for="forumTreeTable"/>
    <br/>

    <o:treeTable id="forumTreeTable" var="message"
                 expansionState="#{ForumTreeTableBean.forumTreeTableExpansionState}"
                 columnIdVar="columnId"
                 sortColumnId="date"
                 style="margin-top: 15px; width: 100%; height: 450px;"
                 headerVertSeparator="1px solid #a0a0a0"
                 sortedAscendingImageUrl="../images/treetable/sort_a.gif"
                 sortedDescendingImageUrl="../images/treetable/sort_d.gif"
                 sortedColumnHeaderStyle="background: url('../images/treetable/tableHeader_sorted.gif') repeat-x;"
                 sortableHeaderRolloverStyle="background: url('../images/treetable/tableHeader_rollover.gif') repeat-x !important;"
                 headerRowStyle="background: url('../images/treetable/tableHeader.gif') repeat-x; height: 20px;"
                 subHeaderRowStyle="background: url('../images/datatable/filter.gif') repeat-x #f7f7f7; border-top: 1px solid #f6f7f8;"
                 textStyle="font-family: verdana,Helvetica,sans-serif; font-size: 10pt; white-space: nowrap;">
      <o:dynamicTreeStructure nodeChildren="#{ForumTreeTableBean.nodeChildren}"
                              nodeHasChildren="#{ForumTreeTableBean.nodeHasChildren}"
                              nodeKey="#{message.id}"/>
      <o:scrolling/>
      <o:columnResizing/>
      <o:columnReordering/>

      <f:facet name="columnMenu">
        <o:columnMenu/>
      </f:facet>
      <f:facet name="columnMenuButton">
        <o:captionButton style="border-left: none; background: url('../images/treetable/columnMenuBtn.gif');"
                         rolloverStyle="border-left: none; background: url('../images/treetable/columnMenuBtnRollover.gif');"
                         pressedStyle="border-left: none; background: url('../images/treetable/columnMenuBtnPressed.gif');"/>
      </f:facet>

      <o:treeColumn header="Subject" sortingExpression="#{message.subject}" bodyStyle="text-align: left;">
        <f:facet name="subHeader">
          <o:inputTextFilter/>
        </f:facet>
        <h:outputText value="#{message.subject}" styleClass="treeTableText"/>
      </o:treeColumn>

      <o:column header="From" sortingExpression="#{message.author}" style="width: 120px;">
        <f:facet name="subHeader">
          <o:dropDownFieldFilter/>
        </f:facet>
        <h:outputText value="#{message.author}" styleClass="treeTableText"/>
      </o:column>

      <o:column id="date" header="Sent" sortingExpression="#{message.date}" style="width: 120px;">
        <f:facet name="subHeader">
          <o:dropDownFieldFilter expression="#{ForumTreeTableBean.dateCategory}"/>
        </f:facet>
        <h:outputText value="#{message.date}" styleClass="treeTableText">
          <f:convertDateTime type="date" dateStyle="medium"/>
        </h:outputText>
      </o:column>

    </o:treeTable>
  </div>

  <div id="Description">
    <h4>Demonstrated Features</h4>
    <ul class="hang">
      <li><strong>Using Composite Filter</strong> - Click on the [+] button in the composite filter above the Tree Table
        to start building search criteria.
      </li>
      <li><strong>Column filters</strong> - Specify the filtering criteria in the appropriate fields under
        the header and press Enter to filter the displayed data.
        The rows that don't meet the filtering criteria but are required to show the tree structure are grayed.
      </li>
      <li><strong>Drag &amp; drop column reordering</strong>&#8212;Drag a column header to move the appropriate column.
      </li>
      <li><strong>Column resizing</strong> - Drag column header separators to resize columns.</li>
      <li><strong>Column menu</strong>&#8212;Use the drop-down menu in column headers to sort, show and hide columns.
      </li>
      <li><strong>Content scrolling</strong> - it's possible to scroll through the entire TreeTable contents when the
        vertical space is limited.
      </li>
      <li><strong>Sorting</strong> - Click on the header of any column to sort data by that column.</li>
      <li><strong>Dynamic loading for node expansion, sorting, and filtering</strong> - Only the
        modified or revealed data is loaded using Ajax technology instead of reloading the whole page.
      </li>
      <li><strong>Dynamic tree structure</strong> - The data is retrieved dynamically from the backing bean.</li>
      <li><strong>Customizing default node expansion state</strong> - All top-level nodes are
        expanded by default when the TreeTable component is loaded.
      </li>
    </ul>
  </div>

</div>