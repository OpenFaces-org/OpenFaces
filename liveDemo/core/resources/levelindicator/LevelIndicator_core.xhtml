<div xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:o="http://openfaces.org/"
        >

  <script type="text/javascript">
    var equalizerLevel = 0.5;
    var koeff = [1.3, 1.2, 1, 1, 1.2, 1.4, 1.2, 1, 1, 1, 1, 1];
    var playing = true;
    var stopped = false;

    function initSlider() {
      O$('form:slider1').setValue(50);
      O$('form:slider2').setValue(50);
    }

    function runEqualizer() {
      playing = true;
      stopped = false;
      setTimeout("playEqualizer()", 250);
    }

    function playEqualizer() {
      if (playing) {
        var i;
        for (i = 0; i &lt; 12; i++) {
          var randomValue = Math.random() * 100;
          if (Math.random() >= 50) {
            randomValue *= -1;
          }
          randomValue /= 6;
          var eqValue = (equalizerLevel + randomValue/100) * koeff[i];

          if(eqValue > 1) {
            eqValue = 1;
          } else if (eqValue &lt; 0) {
            eqValue = 0;
          }
          O$('form:eq' + i).setValue(eqValue);
        }

        setTimeout("playEqualizer()", Math.random() * 300);
      }
    }

    function stopEqualizer() {
      playing = false;
      stopped = true;
      var i;
      for (i = 0; i &lt; 12; i++) {
        O$('form:eq' + i).setValue(0);
      }
    }

    function nextSong() {
      stopEqualizer();
      setTimeout("runEqualizer()", 1000);
    }

    function pauseEqualizer() {
      if (!stopped) {
        playing = !playing;
        if(playing) {
          playEqualizer();
        }
      }
    }

    function setBalance() {
      var currentBalance = O$('form:slider2').getValue();
      var leftValue = 50;
      var rightValue = 50;
      if (currentBalance &lt; 50) {
        leftValue += (50 - currentBalance);
        rightValue -= (50 - currentBalance);
      } else if (currentBalance > 50) {
        leftValue -= (currentBalance - 50);
        rightValue += (currentBalance - 50);
      }
      O$('form:leftChannel').setValue(leftValue / 100);
      O$('form:rightChannel').setValue(rightValue / 100);
    }

  </script>

  <div id="Demo">
    <table>
      <tr>
        <td>
          <o:slider orientation="vertical"
                    fillDirection="fromEnd"
                    styleClass="verticalSlider"
                    transitionPeriod="100"
                    id="slider1"
                    value="50"
                    minValue="0"
                    maxValue="100"

                    onchange="equalizerLevel = slider.getValue()/100;"/>
        </td>
        <td>
          <o:levelIndicator id="eq0" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq1" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq2" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq3" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq4" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq5" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq6" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq7" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq8" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq9" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq10" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
        <td>
          <o:levelIndicator id="eq11" orientation="vertical" fillDirection="fromEnd" labelStyle="display:none;"/>
        </td>
      </tr>
      <tr>
        <td align="center">
          Hz
        </td>
        <td align="center">
          70
        </td>
        <td align="center">
          30
        </td>
        <td align="center">
          70
        </td>
        <td align="center">
          180
        </td>
        <td align="center">
          320
        </td>
        <td align="center">
          600
        </td>
        <td align="center">
          1K
        </td>
        <td align="center">
          3K
        </td>
        <td align="center">
          6K
        </td>
        <td align="center">
          12K
        </td>
        <td align="center">
          14K
        </td>
        <td align="center">
          16K
        </td>
      </tr>
    </table>

  </div>

  <table>
    <tr>
      <td>
        <o:commandButton id="prevButton" type="button"
                         onclick="nextSong();"
                         >
          &#160;&#160;Prev&#160;&#160;
        </o:commandButton>
      </td>
      <td>
        <o:commandButton id="playButton" type="button"
                         onclick="runEqualizer();"
                         >
          &#160;&#160;Play&#160;&#160;
        </o:commandButton>
      </td>
      <td>
        <o:commandButton id="pauseButton" type="button"
                         onclick="pauseEqualizer();"
                         >
          &#160;&#160;Pause&#160;&#160;
        </o:commandButton>
      </td>
      <td>
        <o:commandButton id="stopButton" type="button"
                         onclick="stopEqualizer();"
                         >
          &#160;&#160;Stop&#160;&#160;
        </o:commandButton>
      </td>
      <td>
        <o:commandButton id="nextButton" type="button"
                         onclick="nextSong();"
                         >
          &#160;&#160;Next&#160;&#160;
        </o:commandButton>
      </td>
    </tr>
  </table>

  <table>
    <tr>
      <td align="right">
        <o:levelIndicator id="leftChannel" orientation="horizontal" fillDirection="fromEnd" labelStyle="display:none;" value="0.5"/>
      </td>
      <td align="left">
        <o:levelIndicator id="rightChannel" orientation="horizontal" fillDirection="fromStart" labelStyle="display:none;" value="0.5"/>
      </td>
    </tr>
    <tr>
      <td colspan="2" align="center">
        <o:slider orientation="horizontal"
                  styleClass="verticalSlider"
                  transitionPeriod="100"
                  id="slider2"
                  value="50"
                  minValue="0"
                  maxValue="100"

                  onchange="setBalance();"/>
      </td>
    </tr>
  </table>

  <table>
    <tr>
      <td>
        Battery Level:
      </td>
      <td>
        <o:levelIndicator id="batteryLevelIndicator" value="#{LevelIndicatorBean.batteryLevel}" segmentSize="50" style="width:500px;height:10px;"/>
      </td>
    </tr>
  </table>

  <table>
    <tr>
      <td>
        Space on disk:
      </td>
      <td>
        <o:levelIndicator id="hddSpaceIndicator" value="#{LevelIndicatorBean.hddSpace}"/>
      </td>
    </tr>
  </table>

  <div id="Description">
    <h4>Demonstrated Features</h4>
    <ul class="hang">
      <li><strong>Name</strong> - Description.</li>
    </ul>
  </div>

</div>
