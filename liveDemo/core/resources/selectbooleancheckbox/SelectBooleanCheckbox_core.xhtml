<div xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:o="http://openfaces.org/" xmlns:c="http://java.sun.com/jstl/core"
        >

  <div id="Demo">
    <div style="text-align: center; font-weight: bold; font-size: 20px;">Construction in progress...</div>

    <h:panelGroup id="permissionsTable">
      <o:dataTable value="#{PermissionSchema.permissions}" var="permission">
        <o:column>
          <h:outputText value="#{permission.label}"/>
        </o:column>
        <o:column>
          <c:set var="group" value="ANONYMOUS"/>
          <f:facet name="header">
            <h:outputText value="#{group}"/>
          </f:facet>
          <c:set var="stateList"
                 value="#{PermissionSchema.permissionsAssignment[group][permission].dependent ? PermissionSchema.dependentStateList :PermissionSchema.defaultStateList}"/>
          <o:selectBooleanCheckbox triStateAllowed="true"
                                   value="#{PermissionSchema.permissionsAssignment[group][permission].outputState}"
                                   stateList="#{stateList}"
                                   onchange="O$.ajaxReload(['form:permissionsTable'], {listener: 'PermissionSchema.updateAssignment', actionComponent: this.id});">
            <f:param name="group" value="#{group}"/>
            <f:param name="permission" value="#{permission}"/>
          </o:selectBooleanCheckbox>
        </o:column>

        <o:column>
          <c:set var="group" value="USER"/>
          <f:facet name="header">
            <h:outputText value="#{group}"/>
          </f:facet>
          <c:set var="stateList"
                 value="#{PermissionSchema.permissionsAssignment[group][permission].dependent ? PermissionSchema.dependentStateList :PermissionSchema.defaultStateList}"/>
          <o:selectBooleanCheckbox triStateAllowed="true"
                                   value="#{PermissionSchema.permissionsAssignment[group][permission].outputState}"
                                   stateList="#{stateList}"
                                   onchange="O$.ajaxReload(['form:permissionsTable'], {listener: 'PermissionSchema.updateAssignment', actionComponent: this.id});">
            <f:param name="group" value="#{group}"/>
            <f:param name="permission" value="#{permission}"/>
          </o:selectBooleanCheckbox>
        </o:column>

        <o:column>
          <c:set var="group" value="ADMINISTRATOR"/>
          <f:facet name="header">
            <h:outputText value="#{group}"/>
          </f:facet>
          <c:set var="stateList"
                 value="#{PermissionSchema.permissionsAssignment[group][permission].dependent ? PermissionSchema.dependentStateList :PermissionSchema.defaultStateList}"/>
          <o:selectBooleanCheckbox triStateAllowed="true"
                                   value="#{PermissionSchema.permissionsAssignment[group][permission].outputState}"
                                   stateList="#{stateList}"
                                   onchange="O$.ajaxReload(['form:permissionsTable'], {listener: 'PermissionSchema.updateAssignment', actionComponent: this.id});">
            <f:param name="group" value="#{group}"/>
            <f:param name="permission" value="#{permission}"/>
          </o:selectBooleanCheckbox>
        </o:column>
      </o:dataTable>
    </h:panelGroup>
  </div>
  <div id="Description">
    <h4>Demonstrated Features</h4>
    <ul class="hang">
      <li><strong>Feature 1</strong> - feature 1 description.
      </li>
      <li><strong>Feature 2</strong> - feature 2 description.
      </li>
    </ul>
  </div>

</div>
