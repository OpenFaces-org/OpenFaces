<div xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:o="http://openfaces.org/">

  <div id="Demo">

    <script type="text/javascript">
      function showAlert(text) {
        O$("form:alertText").innerHTML = text;
        O$("form:alertWindow").showCentered();
      }
    </script>

    <style>
      .keyword {color: #000080; font-weight: bold;}
      .normal {color: black; font-weight: normal;}
      .string {color: #008000; font-weight: bold;}
    </style>

    <o:layeredPane id="container" selectedIndex="#{PopupMenuBean.sourcePageIndex}"
                   style="display: block; font-family: courier, monospace; width: 400px; padding: 10px; border: 1px dashed;"
                   styleClass="normal">
      <o:subPanel>
        <span title="Right-click here to see menu in action">
          <span class="keyword">public class</span> InputTextareaBean {<br/>
          &#160;&#160;<span class="keyword">private</span> String feedback;<br/>
          <br/>
          &#160;&#160;<span class="keyword">public</span> String getFeedback() {<br/>
          &#160;&#160;&#160;&#160;return feedback;<br/>
          &#160;&#160;}<br/>
          <br/>
          &#160;&#160;<span class="keyword">public</span> <span class="keyword">void</span> setFeedback(String feedback)
          {<br/>
          &#160;&#160;&#160;&#160;this.feedback = feedback;<br/>
          &#160;&#160;}<br/>
          <br/>
          &#160;&#160;<span class="keyword">public</span> String send() {<br/>
          &#160;&#160;&#160;&#160;mailService.sendFeedback(feedback);<br/>
          &#160;&#160;&#160;&#160;return <span class="string">"success";</span><br/>
          &#160;&#160;}<br/>
          }<br/>
        </span>
      </o:subPanel>
      <o:subPanel>
        <span title="Right-click here to see menu in action">
          <span class="keyword">public class</span> NewClass {<br/>
          }<br/>
        </span>
      </o:subPanel>
      <o:subPanel>
        <span title="Right-click here to see menu in action">
          <span class="keyword">public interface</span> NewInterface {<br/>
          }<br/>
        </span>
      </o:subPanel>
      <o:subPanel>
        <span title="Right-click here to see menu in action">
          <span class="keyword">public enum</span> NewEnumeration {<br/>
          }<br/>
        </span>
      </o:subPanel>
      <o:subPanel>
        <span title="Right-click here to see menu in action">
          <span class="keyword">public @interface</span> NewAnnotation {<br/>
          }<br/>
        </span>
      </o:subPanel>

      <o:popupMenu>
        <o:menuItem iconUrl="icons/new-16x16.png" value="New">
          <o:popupMenu>
            <o:menuItem value="Class" action="#{PopupMenuBean.newClass}" render="container"/>
            <o:menuItem value="Interface" action="#{PopupMenuBean.newInterface}" render="container"/>
            <o:menuItem value="Enumeration" action="#{PopupMenuBean.newEnumeration}" render="container"/>
            <o:menuItem value="Annotation" action="#{PopupMenuBean.newAnnotation}" render="container"/>
            <o:menuItem value="Package" onclick="showAlert('New package created.');"/>
            <o:menuSeparator/>

            <o:menuItem value="File" onclick="showAlert('New file created.');"/>
            <o:menuItem value="Directory" onclick="showAlert('New directory created.');"/>
          </o:popupMenu>
        </o:menuItem>
        <o:menuItem iconUrl="icons/save-16x16.png" value="Save" onclick="showAlert('File saved.');"/>
        <o:menuSeparator/>

        <o:menuItem iconUrl="icons/cut-16x16.png" value="Cut" onclick="showAlert('Selection has been cut.');"/>
        <o:menuItem iconUrl="icons/copy-16x16.png" value="Copy" onclick="showAlert('Selection has been copied.');"/>
        <o:menuItem iconUrl="icons/paste-16x16.png" value="Paste" onclick="showAlert('Buffer contents pasted.');"/>
        <o:menuSeparator/>

        <o:menuItem value="Refactor">
          <o:popupMenu>
            <o:menuItem value="Rename..." onclick="showAlert('Rename invoked.');"/>
            <o:menuSeparator/>

            <o:menuItem value="Move..." onclick="showAlert('Move invoked.');"/>
            <o:menuItem value="Copy..." onclick="showAlert('Copy invoked.');"/>
            <o:menuItem value="Safe Delete..." onclick="showAlert('Safe Deleting invoked.');"/>
            <o:menuSeparator/>

            <o:menuItem value="Extract Method..." onclick="showAlert('Extract Method invoked.');"/>
            <o:menuItem value="Extract Class..." onclick="showAlert('Extract Class invoked.');"/>
            <o:menuSeparator/>

            <o:menuItem value="Introduce Field..." onclick="showAlert('Introduce Field invoked.');"/>
            <o:menuItem value="Introduce Constant..." onclick="showAlert('Introduce Constant invoked.');"/>
            <o:menuItem value="Introduce Parameter..." onclick="showAlert('Introduce Parameter invoked.');"/>
          </o:popupMenu>
        </o:menuItem>
      </o:popupMenu>
    </o:layeredPane>

    <o:window id="alertWindow"
              modal="true"
              caption="Action Invoked"
              modalLayerClass="modalLayer"
              resizable="false"
              width="300px" height="180px"
              contentStyle="padding: 10px; vertical-align: bottom">
      <o:captionArea>
        <o:closeWindowButton/>
      </o:captionArea>
      <h:outputText id="alertText" style="display: block; font-size: 130%; font-weight: bold; padding-bottom: 20px;"/>
      <h:outputText value="Please note that this popup menu serves demonstration purposes only."
                    style="display: block; padding-bottom: 20px;"/>
      <h:panelGroup layout="block" style="text-align: center">
        <h:commandButton value="OK" onclick="O$('form:alertWindow').hide(); return false;"
                         style="width: 80px"/>
      </h:panelGroup>
    </o:window>

  </div>

  <div id="Description">
    <div>
      <small>* Right click (except Opera browser) or Ctrl + Left Click (in Opera) on Java code fragment above to see
        the Popup Menu component in action.
      </small>
      <br/><br/></div>
  </div>

  <div id="Description">
    <h4>Demonstrated Features</h4>
    <ul class="hang">
      <li>
        <strong>Hierarchical menus</strong> - It is possible to build menu with sub-menus using
        <span class="codeSnippet">Popup Menu</span> component.
      </li>
      <li>
        <strong>Client-side event handlers</strong> - Clicking items on root menu items shows a window with JavaScript.
      </li>
      <li>
        <strong>Server-side Ajax-based event handlers</strong> - Clicking items in the "New" menu issues Ajax calls
        for server-side action execution and content reloading.
      </li>
      <li>
        <strong>Menu icons</strong> - Popup Menu items may be supplied with icons.
      </li>
      <li>
        <strong>Keyboard navigation</strong> - Use  <b>Up/Down/Left/Right</b> keys
        to navigate between menu items and sub-menus, and  <b>Enter/Esc</b>
        keys to select an item or close the menu respectively.
      </li>
    </ul>
  </div>

</div>