<div xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:o="http://openfaces.org/"
     xmlns:a4j="http://richfaces.org/a4j"
     xmlns:rich="http://richfaces.org/rich"
     xmlns:t="http://myfaces.apache.org/tomahawk"
        >
    <br/>

    <a href="../../testPageIndex.jsf">Return to main testing page</a><br/><br/>

    <br/>
    <span style="font-weight:bold;">Use ajax:</span><br/>
    <o:tabSet id="loadingModes"
              selectedIndex="#{DataTableLoadingModeBean.loadingModeSelectedIndex}"
              onchange="document.forms[0].submit();">
        <o:tabSetItems value="#{DataTableLoadingModeBean.loadingModeList}"/>
    </o:tabSet>

    <table cellpadding="0" cellspacing="5">
        <tr>
            <td class="header">Pagination</td>
        </tr>
        <tr>
            <td class="container">
                <o:dataTable id="banks" var="bank"
                             value="#{BanksList.banks}"
                             rowKey="#{bank.id}"
                             style="margin-top: 15px; width: 95%; height: 420px;"

                             sortColumnId="institutionName"
                             sortedAscendingImageUrl="../images/treetable/sort_a.gif"
                             sortedDescendingImageUrl="../images/treetable/sort_d.gif"
                             sortedColumnHeaderStyle="background: url('../images/treetable/tableHeader_sorted.gif') repeat-x;"

                             sortableHeaderRolloverStyle="background: url('../images/treetable/tableHeader_rollover.gif') repeat-x !important;"
                             headerRowStyle="background: url('../images/treetable/tableHeader.gif') repeat-x; height: 20px;"
                             subHeaderRowStyle="background: url('../images/datatable/filter.gif') repeat-x #f7f7f7; border-top: 1px solid #f6f7f8;"

                             bodySectionStyle="background: #ffffff"

                             headerVertSeparator="1px solid #d0d0d0, 1px solid #a0a0a0"
                             horizontalGridLines="1px solid #f6f7f8"
                             columnsOrder="#{sessionScope.banks_savedColumnsOrder}">
                    <f:facet name="header">
                        <o:groupingBox/>
                    </f:facet>
                    <o:rowGrouping groupingRules="#{sessionScope.banks_savedGroupingRules}"
                                   expansionState="#{BanksList.expansionState}"
                                   groupHeaderRowStyle="font-size: 11pt"/>
                    <o:scrolling position="#{sessionScope.scrolling}" autoSaveState="true"/>
                    <o:singleRowSelection rowData="#{sessionScope.selectedBank}"
                                          style="background: url('../images/treetable/selected.gif') repeat-x #5d8bba !important; color: white !important;"/>
                    <o:columnResizing resizingState="#{sessionScope.banks_columnResizingState}" autoSaveState="true"/>
                    <o:columnReordering/>

                    <f:facet name="columnMenu">
                        <o:columnMenu/>
                    </f:facet>
                    <f:facet name="columnMenuButton">
                        <o:captionButton style="border-left: none; background: url('../images/treetable/columnMenuBtn.gif');"
                                         rolloverStyle="border-left: none; background: url('../images/treetable/columnMenuBtnRollover.gif');"
                                         pressedStyle="border-left: none; background: url('../images/treetable/columnMenuBtnPressed.gif');"/>
                    </f:facet>

                    <o:column id="institutionName"
                              header="Institution Name"
                              width="30%"
                              sortingExpression="#{bank.institutionName}"
                              bodyStyle="text-align: left; white-space: nowrap;"
                              headerStyle="text-align: left; padding-left: 5px; padding-right: 5px;">
                        <f:facet name="subHeader">
                            <o:inputTextFilter/>
                        </f:facet>
                        <h:outputText value="#{bank.institutionName}" style="white-space: nowrap;"/>
                    </o:column>
                    <o:column header="Certificate Number"
                              width="10%"
                              headerStyle="white-space: normal;"
                              sortingExpression="#{bank.certificateNumber}"
                              bodyStyle="text-align: right; padding-right: 5px;">
                        <f:facet name="subHeader">
                            <o:inputTextFilter maxlength="5" autoFilterDelay="1000"/>
                        </f:facet>
                        <h:outputText value="#{bank.certificateNumber}"/>
                    </o:column>
                    <o:columnGroup header="Address">
                        <o:column header="City"
                                  width="14%"
                                  sortingExpression="#{bank.city}"
                                  bodyStyle="padding-left: 5px; "
                                  headerStyle="text-align: left; padding-left: 5px; padding-right: 5px;">
                            <f:facet name="subHeader">
                                <o:inputTextFilter/>
                            </f:facet>

                            <h:outputText value="#{bank.city}"/>
                        </o:column>
                        <o:column header="State"
                                  width="7%"
                                  sortingExpression="#{bank.state}"
                                  bodyStyle="padding-left: 5px; "
                                  headerStyle="text-align: left; padding-left: 5px; padding-right: 5px;">
                            <f:facet name="subHeader">
                                <o:dropDownFieldFilter maxlength="2" customValueAllowed="false"/>
                            </f:facet>
                            <h:outputText value="#{bank.state}"/>
                        </o:column>
                        <o:column header="Zip"
                                  width="7%"
                                  bodyStyle="text-align: right; padding-right: 5px;"
                                  headerStyle="text-align: left; padding-left: 5px; padding-right: 5px;"
                                  sortingExpression="#{bank.zip}">
                            <f:facet name="subHeader">
                                <o:inputTextFilter maxlength="5" autoFilterDelay="1000"/>
                            </f:facet>
                            <h:outputText value="#{bank.zip}"/>
                        </o:column>
                        <o:column header="County"
                                  width="13%"
                                  sortingExpression="#{bank.county}"
                                  bodyStyle="padding-left: 5px; white-space: nowrap;"
                                  headerStyle="text-align: left; padding-left: 5px; padding-right: 5px;">
                            <f:facet name="subHeader">
                                <o:inputTextFilter/>
                            </f:facet>

                            <h:outputText value="#{bank.county}"/>
                        </o:column>
                    </o:columnGroup>
                    <o:column header="Average Assets"
                              width="19%"
                              bodyStyle="text-align: right; padding-right: 5px;"
                              headerStyle="text-align: center; padding-left: 5px; padding-right: 5px; white-space: normal;"
                              sortingExpression="#{bank.averageAssets}"
                              groupingExpression="#{BanksList.averageAssetsRange}">
                        <f:facet name="subHeader">
                            <o:comboBoxFilter expression="#{BanksList.averageAssetsRange}"
                                              options="#{BanksList.averageAssetsFilterValues}"/>
                        </f:facet>

                        <h:outputText value="#{bank.averageAssets}">
                            <f:convertNumber type="number"/>
                        </h:outputText>
                    </o:column>
                </o:dataTable>
            </td>
        </tr>
    </table>

</div>