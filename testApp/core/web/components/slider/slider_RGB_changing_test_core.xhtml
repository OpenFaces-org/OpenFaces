<div xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:o="http://openfaces.org/">


  <h:panelGrid columns="1">

    <h:outputLink value="../../main.jsf">
      <h:outputText value="Return to main page"/>
    </h:outputLink>
    <h:outputLink value="../../testPageIndex.jsf">
      <h:outputText value="Return to testing page"/>
    </h:outputLink>
    <h:commandButton id="submitBut" value="SubmitAll"/>

  </h:panelGrid>
  <h:outputText value="Background changing with sliders" style="font-size:14pt;"/>

  <style>
    .label {
      width: 100px;
    }

    .redSlider {
      border: 1px outset #f33;
      background: #ffb3b3;
      padding: 9px;
    }

    .greenSlider {
      border: 1px outset #66ff99;
      background: #b3ffd1;
      padding: 9px;
    }

    .blueSlider {
      border: 1px outset #33f;
      background: #b3e2ff;
      padding: 9px;
    }

    .colored {
      width: 300px;
      height: 200px;
      text-align: center;
      margin-left: 150px;
    }
  </style>

  <h:panelGrid columns="2">
    <h:outputLabel value="RED chanel"/>
    <o:slider id="redSlider0"
              styleClass="redSlider"
              value="100"
              maxValue="255"
              snapToTicks="false"
              majorTickSpacing="50"
              textFieldState="writeEnabled"
              onchanging="changeColor()"
              onchange="changeColor()">
      <f:convertNumber pattern="##0"/>
    </o:slider>
    <h:outputLabel value="GREEN chanel"/>
    <o:slider id="greenSlider0"
              styleClass="greenSlider"
              value="100" maxValue="255"
              snapToTicks="false"
              majorTickSpacing="50"
              textFieldState="writeEnabled"
              onchanging="changeColor()"
              onchange="changeColor()">
      <f:convertNumber pattern="##0"/>
    </o:slider>
    <h:outputLabel value="BLUE chanel"/>
    <o:slider id="blueSlider0"
              styleClass="blueSlider"
              value="100"
              maxValue="255"
              snapToTicks="false"
              majorTickSpacing="50"
              textFieldState="writeEnabled"
              onchanging="changeColor()"
              onchange="changeColor()">
      <f:convertNumber pattern="##0"/>
    </o:slider>
  </h:panelGrid>

  <div id="outSl" class="colored" onload="changeColor()">
    <div>
      Decorated element
    </div>
  </div>
  <script>
    O$.addLoadEvent(changeColor);
    function changeColor() {
      var toChangeColor = O$('outSl');
      var red = O$('formID:redSlider0').getValue();
      var green = O$('formID:greenSlider0').getValue();
      var blue = O$('formID:blueSlider0').getValue();
      toChangeColor.style.background = "RGB(" + red + ", " + green + ", " + blue + ")";
    }
  </script>

</div>
