<div xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:o="http://openfaces.org/"
     xmlns:a4j="http://richfaces.org/a4j"
     xmlns:rich="http://richfaces.org/rich"
     xmlns:t="http://myfaces.apache.org/tomahawk"
        >
  <a href="../../main.jsf">Back to the main page</a>
  <br/>

  <a href="../../testPageIndex.jsf">Return to main testing page</a><br/><br/>


  <o:treeTable id="treeTable1"
               var="node"
               nodeLevelVar="level"
               sortLevel="0">
    <o:dynamicTreeStructure nodeChildren="#{TreeTableFuncTestsBean.usersTreeChildren}"
                            nodeKey="#{TreeTableFuncTestsBean.usersTreeNodeKey}"/>
    <o:multipleNodeSelection/>
    <o:columnGroup>
      <f:facet name="header">
        <h:outputText value="group1"/>
      </f:facet>
      <f:facet name="footer">
        <h:outputText value="group1 footer"/>
      </f:facet>

      <o:column>
        <f:facet name="header">
          <h:outputText value="id"/>
        </f:facet>
        <h:outputText value="#{node.id}"/>
      </o:column>
      <o:column>
        <f:facet name="header">
          <h:outputText value="Type"/>
        </f:facet>
        <h:outputText rendered="#{level == 0}" value="Permission"/>
        <h:outputText rendered="#{level == 1}" value="User"/>
      </o:column>
    </o:columnGroup>
    <o:columnGroup>
      <f:facet name="header">
        <h:outputText value="group2"/>
      </f:facet>
      <f:facet name="footer">
        <h:outputText value="group2 footer"/>
      </f:facet>

      <o:treeColumn sortingExpression="#{node.name}">
        <f:facet name="header">
          <h:outputText id="sortLevelZero_header" value="Permissions"/>
        </f:facet>
        <h:outputText rendered="#{level == 0}" value="#{node.name}"/>
        <h:outputText rendered="#{level == 1}" value="#{node.userName}"/>
        <o:column>
          <f:facet name="header">
            <h:outputText value="id"/>
          </f:facet>
          <h:outputText rendered="#{level == 1}" value="#{node.id}"/>
        </o:column>
      </o:treeColumn>
      <o:checkboxColumn>
        <f:facet name="header">
          <o:selectAllCheckbox/>
        </f:facet>
      </o:checkboxColumn>
      <o:column>
        <f:facet name="header">
          <h:outputText value="User category"/>
        </f:facet>
        <h:outputText rendered="#{level == 1}" value="#{node.category}"/>
      </o:column>
      <o:selectionColumn>
        <f:facet name="header">
          <o:selectAllCheckbox/>
        </f:facet>
      </o:selectionColumn>
    </o:columnGroup>

  </o:treeTable>


</div>